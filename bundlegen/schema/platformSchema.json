{
    "$schema": "https://json-schema.org/draft/2020-12/schema#",
    "type": "object",
    "properties": {
        "platformName": {"type": "string"},
        "os": {"type": "string"},
        "arch": {"$ref": "#/$defs/arch_type"},
        "rdk": {"$ref": "#/$defs/rdk_type"},
        "hardware": {"$ref": "#/$defs/hardware_type"},
        "storage": {"$ref": "#/$defs/storage_type"},
        "gpu": {"$ref": "#/$defs/gpu_type"},
        "mounts": {"$ref": "#/$defs/mounts_type"},
        "network": {"$ref": "#/$defs/network_type"},
        "envvar": {"$ref": "#/$defs/supportedFeatures_type"},
        "resourceLimits": {"$ref": "#/$defs/resourceLimits_type"},
        "disableUserNamespacing": {"type": "boolean"},
        "logging": {"$ref": "#/$defs/logging_type"}
    },
    "required": [
        "platformName",
        "os",
        "arch",
        "rdk",
        "hardware",
        "storage",
        "gpu",
        "network",
        "logging"
    ],
    "$defs": {
        "arch_type": {
            "type": "object",
            "properties": {
                "arch": {"type": "string"},
                "variant": {"type": "string"}
            },
            "required": [
                "arch"
            ]
        },
        "supportedFeatures_type": {
            "type": "array",
            "minItems": 0,
            "items": {"type": "string"}
        },
        "rdk_type": {
            "type": "object",
            "properties": {
                "version": {"type": "string"},
                "supportedFeatures": {"$ref": "#/$defs/supportedFeatures_type"}
            },
            "required": [
                "version",
                "supportedFeatures"
            ]
        },
        "hardware_type": {
            "type": "object",
            "properties": {
                "graphics": {"type": "boolean"},
                "maxRam_disabled": {"type": "string"}
            },
            "required": [
                "graphics",
                "maxRam_disabled"
            ]
        },
        "persistent_type": {
            "type": "object",
            "properties": {
                "storageDir": {"type": "string"},
                "maxSize": {"type": "string"}
            },
            "required": [
                "storageDir"
            ]
        },
        "storage_type": {
            "type": "object",
            "properties": {
                "persistent": {"$ref": "#/$defs/persistent_type"}
            }
        },
        "extraMounts_type": {
            "type": "array",
            "minItems": 0,
            "items": {
                "type": "object",
                "properties": {
                    "source": {"type": "string"},
                    "destination": {"type": "string"},
                    "type": {"type": "string"},
                    "options": {"$ref": "#/$defs/supportedFeatures_type"}
                },
                "required": [
                    "destination"
                ]
            }
        },
        "devs_type": {
            "type": "array",
            "minItems": 0,
            "items": {
                "type": "object",
                "properties": {
                    "type": {"type": "string"},
                    "path": {"type": "string"},
                    "major": {"type": "integer"},
                    "minor": {"type": "integer"},
                    "access": {"type": "string"}
                },
                "required": [
                    "type",
                    "path",
                    "major",
                    "minor"
                ]
            }
        },
        "gfxLibs_type": {
            "type": "array",
            "minItems": 0,
            "items": {
                "type": "object",
                "properties": {
                    "src": {"type": "string"},
                    "dst": {"type": "string"}
                },
                "required": [
                    "src",
                    "dst"
                ]
            }
        },
        "gpu_type": {
            "type": "object",
            "properties": {
                "extraMounts": {"$ref": "#/$defs/extraMounts_type"},
                "envvar": {"$ref": "#/$defs/supportedFeatures_type"},
                "devs": {"$ref": "#/$defs/devs_type"},
                "gfxLibs": {"$ref": "#/$defs/gfxLibs_type"}
            },
            "required": [
                "gfxLibs"
            ]
        },
        "mounts_type": {
            "type": "array",
            "minItems": 0
        },
        "network_type": {
            "type": "object",
            "properties": {
                "options": {"$ref": "#/$defs/supportedFeatures_type"}
            },
            "required": ["options"]
        },
        "resourceLimits_type": {
            "type": "array",
            "minItems": 0,
            "items": {
                "type": "object",
                "properties": {
                    "type": {"type": "string"},
                    "hard": {"type": "integer"},
                    "soft": {"type": "integer"}
                },
                "required": [
                    "type",
                    "hard",
                    "soft"
                ]
            }
        },
        "logging_type": {
            "type": "object",
            "properties": {
                "mode": {"type": "string"},
                "logDir": {"type": "string"}
            },
            "required": [
                "mode",
                "logDir"
            ]
        }
    }
}